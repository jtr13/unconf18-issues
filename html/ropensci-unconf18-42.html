<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script type="text/javascript" src="lib/jquery.js"></script>
    <script type="text/javascript" src="lib/jquery.emoji.js"></script>
    <title>Workflow for publications using Rmarkdown with users that won&#x27;t get passed Word/Google docs</title>
  </head>
  <body>
    <div class="container">
      <header>
        <p>
          <span class="badge open">open</span>
          <span class="url">ropensci/unconf18#42</span>
        </p>
        <h1>Workflow for publications using Rmarkdown with users that won&#x27;t get passed Word/Google docs</h1>
      </header>
      <div class="comments">
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/lauracion">lauracion</a>
            <time>4/25/2018</time>
          </div>
          <div class="body">
            <p>This is a specific issue related to #27 (and somewhat to #22). How to to successfully and painlessly collaborate in a publication workflow using Rmarkdown with researchers (or others) that are not interested at all in getting passed Google docs.</p>
<p>I have no idea how to tackle this. I know this is something I would use <em>a lot</em>.</p>
<p>There is some discussion and ideas in this thread: <a href="https://twitter.com/CMastication/status/942151771627155457">https://twitter.com/CMastication/status/942151771627155457</a></p>
<p>And a deeper discussion here: <a href="https://community.rstudio.com/t/publishing-rmarkdown-to-google-docs/832">https://community.rstudio.com/t/publishing-rmarkdown-to-google-docs/832</a> where @jennybc says &quot;The problem we ran into is that compiling .Rmd to Google Doc is not that hard. But for the whole workflow to truly be useful, you then want to go the other direction. And that is really hard.&quot; Wondering if this got any easier since last time this was discussed.</p>
<p>FWIW, my 2 cents for the 2018 unconf :slightly_smiling_face:   </p>

          </div>
        </div>

        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/jzelner">
              jzelner
            </a>
            <time>4/25/2018</time>
          </div>
          <div class="body"><p>This is maybe a bit off-topic here, but has anyone come up with a way to make the gdoc/work -&gt; RMD conversion work s/t the R sections are retained? This would go for any backwards conversion from a &#39;final&#39; document format a non-RMD user might use (TeX, Word, etc). For me, this would really close the collaboration loop for folks who want to edit the text but don&#39;t care at all about the nuts and bolts of a literate programming/data science document.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/cboettig">
              cboettig
            </a>
            <time>4/25/2018</time>
          </div>
          <div class="body"><p>@jzelner The only practical approach I&#39;ve found for letting collaborators edit the text in Word is to just paste the raw Rmd into a word document.  Like you say, I&#39;ve found these collaborators are focused only on the text anyway, and are going to skip over any equations or code, so it doesn&#39;t matter a jot that equations aren&#39;t rendered and code isn&#39;t pretty or highlighted.  </p>
<p>Of course you get a few errors pasting the Word edits back into Rmd (mostly rich-text characters corrupting some ascii code characters) but these are easy to spot and fix with a diff.  I know this is low-tech but relatively robust, I picked this up from a mathematician who works in TeX but also frequently collaborates with Word-only folks.  </p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/mmulvahill">
              mmulvahill
            </a>
            <time>4/26/2018</time>
          </div>
          <div class="body"><p>The best approach I&#39;ve found* is using Rmd-&gt;Word &amp; markdown on my end.  I send the Word doc to the collaborator(s) who edit(s) w/ track changes. When I get the edits back, I accept all changes and use pandoc to convert Word to markdown.  I can then diff the two markdown files, resolve changes into my Rmd, build report, commit, and send off a new version as necessary.   Pandoc does a pretty good job of Word-&gt;markdown.   (I haven&#39;t thought about it until now, but could the word-&gt;md and diff/resolve be built into a pkg and possibly integrate w/ RStudio in a slick way?)</p>
<p>In my consulting biostats work, I&#39;m never on a project with someone who knows our R/markup/Git toolkit and getting MDs to use anything but Word is a massive endeavor in cultural change.  The other option a colleague tried was requiring collaborators to use the GitHub/GitLab/BitBucket web editor and save via commits.  <a href="https://www.researchgate.net/profile/Egon_L_Van_den_Broek/publication/314102138_HealthInf_2017_Proceedings_of_the_10th_International_Conference_on_Health_Informatics/links/58b59837aca27261e51659ff/HealthInf-2017-Proceedings-of-the-10th-International-Conference-on-Health-Informatics.pdf#page=249">This project</a>, though, had an MD/PhD primary investigator who was very motivated to conduct the study with reproducible tools and had the clout to enforce it. </p>
<p>(this comment may be more #27, but sort of both)
*Edited - a colleague and I started doing this in our RA consulting lab.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/lauracion">
              lauracion
            </a>
            <time>4/26/2018</time>
          </div>
          <div class="body"><p>All are great suggestions. I am wondering if we could settle on a very good way to do this. Including both word and google docs as options for interacting with folks not interested in getting involved further.</p>
<blockquote>
<p>could the word-&gt;md and diff/resolve be built into a pkg and possibly integrate w/ RStudio in a slick way?</p>
</blockquote>
<p>For example, this :point_up_2:, particularly the integration in RStudio part :wink: 
Having google docs as an starting option would be a nice have too.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/batpigandme">
              batpigandme
            </a>
            <time>4/26/2018</time>
          </div>
          <div class="body"><p>I vaguely remember being told this was all old hat when I shared it on Twitter awhile back, but possibly relevant nonetheless:
<a href="http://www.storybench.org/convert-google-doc-rmarkdown-publish-github-pages/">How to convert a Google Doc to RMarkdown and publish on Github pages</a></p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/Pakillo">
              Pakillo
            </a>
            <time>4/26/2018</time>
          </div>
          <div class="body"><p>Great thread! A common bottleneck for many, I think.</p>
<p>For some time I thought that using Authorea or Overleaf, which can be easily synced to GitHub (e.g. see <a href="https://support.authorea.com/en-us/article/syncing-articles-to-github-zubain/">here</a> &amp; <a href="https://www.overleaf.com/help/233-how-do-i-connect-an-overleaf-project-with-a-repo-on-github-gitlab-or-bitbucket">here</a>) could be a solution: just pull changes from github repo. But then you would have to persuade coauthors to switch platform, which is very hard (even the transition from Word to GDocs).</p>
<p>By now I incorporate changes manually into the Rmd, or use diff/merge of different versions. Now that we are at it, may I ask for a good tool to make diff &amp; merge for manuscripts? I have been using SourceDiffMerge, but it would be great to be able to accept/reject changes word by word, rather than by line or paragraph. Does that tool exist?</p>
<p>Many thanks, and looking forward to seeing what you develop.</p>
<p>P.S. I think the Word -&gt; markdown conversion can be done through rmarkdown::pandoc_convert</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/jzelner">
              jzelner
            </a>
            <time>4/26/2018</time>
          </div>
          <div class="body"><p>This is great! To me, the ultimate outcome would be to let someone edit and
use track changes on a Word/GDoc compiled from RMD, and to then be able to
accept changes, convert back to RMD and continue on with the underlying RMD
document. I think this would make collaboration about 100x easier, and also
potentially serve as a kind of &#39;gateway drug&#39; to RMD for the Word-addled.</p>
<p>From the bad old days of using Endnote, I remember fields in Word
<a href="https://support.office.com/en-us/article/insert-edit-and-view-fields-in-word-c429bbb0-8669-48a7-bd24-bab6ba6b06bb">https://support.office.com/en-us/article/insert-edit-and-view-fields-in-word-c429bbb0-8669-48a7-bd24-bab6ba6b06bb</a>.
These may be going the way of the dodo, but it seems like they can be used
to reference potentially dynamic values. For example, if you want to use
Word to make a bunch of envelopes for a big mailing, etc., you can perform
a mail merge using an excel sheet full of addresses and a Word doc with the
underlying formatting. (I recall doing something like this in high school
using a Visual Basic macro...). I wonder if fields could be used to
demarcate inline R output, with the underlying R block in a hidden field or
something like that? Or perhaps have a companion document containing all of
the R chunks? Just thinking this out does make me somewhat queasy because
it feels like it would be brittle, but if there were a consistent way to do
it, I think it could be very powerful.</p>
<p>I think the path forward for TeX is more straightforward.  For example, R
output could be inserted in the document in the form of commands that are
auto-defined in the preamble (see here
<a href="https://tex.stackexchange.com/questions/151367/put-from-external-file">https://tex.stackexchange.com/questions/151367/put-from-external-file</a>),
or by sourcing from an external file, which I believe is possible without
any non-TeX dependencies. R chunks could just be commented out in the TeX
during conversion and uncommented on the TeX -&gt; Rnw or TeX -&gt; RMD
conversion.</p>
<p>In an ideal world, I think any approach to this would look a bit like the
JSON/html relationship, in which an omnibus external data file is used to
populate dynamic fields in the resulting static document. In this setup,
results in the JSON would be referred to by automatically generated keys in
the document, and the true values would be populated at compile-time. I try
to take this approach when writing papers, but it still leaves me with
external R dependencies to pull the values out of the JSON/Yaml blob.
Perhaps getting all non-TeX languages out of the pipeline for the
&#39;last-mile&#39; in a document that can still be reversed to RMD is unrealistic,
but it would be ideal if possible...</p>
<p>-Jon</p>
<p>On Thu, Apr 26, 2018 at 8:04 AM, Francisco Rodriguez-Sanchez &lt;
<a href="mailto:notifications@github.com">notifications@github.com</a>&gt; wrote:</p>
<blockquote>
<p>Great thread! A common bottleneck for many, I think.</p>
<p>For some time I thought that using Authorea or Overleaf, which can be
easily synced to GitHub (e.g. see here
<a href="https://support.authorea.com/en-us/article/syncing-articles-to-github-zubain/">https://support.authorea.com/en-us/article/syncing-articles-to-github-zubain/</a>
&amp; here
<a href="https://www.overleaf.com/help/233-how-do-i-connect-an-overleaf-project-with-a-repo-on-github-gitlab-or-bitbucket">https://www.overleaf.com/help/233-how-do-i-connect-an-overleaf-project-with-a-repo-on-github-gitlab-or-bitbucket</a>
could be a solution: just pull changes from github repo. But then you would
have to persuade coauthors to switch platform, which is very hard (even the
transition from Word to GDocs).</p>
<p>By now I incorporate changes manually into the Rmd, or use diff/merge of
different versions. Now that we are at it, may I ask for a good tool to
make diff &amp; merge for manuscripts? I have been using SourceDiffMerge, but
it would be great to be able to accept/reject changes word by word, rather
than by line or paragraph. Does that tool exist?</p>
<p>Many thanks, and looking forward to seeing what you develop.</p>
<p>P.S. I think the Word -&gt; markdown conversion can be done through
rmarkdown::pandoc_convert</p>
<p>—
You are receiving this because you were mentioned.
Reply to this email directly, view it on GitHub
<a href="https://github.com/ropensci/unconf18/issues/42#issuecomment-384616380">https://github.com/ropensci/unconf18/issues/42#issuecomment-384616380</a>,
or mute the thread
<a href="https://github.com/notifications/unsubscribe-auth/AAIUg9o0KFLjKR6_RCwAoeIGDjIWbcKmks5tsbe-gaJpZM4TkRk2">https://github.com/notifications/unsubscribe-auth/AAIUg9o0KFLjKR6_RCwAoeIGDjIWbcKmks5tsbe-gaJpZM4TkRk2</a>
.</p>
</blockquote>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/jzelner">
              jzelner
            </a>
            <time>4/26/2018</time>
          </div>
          <div class="body"><p>Apologies for the weird HTML links inserted via gmail!</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/jennybc">
              jennybc
            </a>
            <time>4/26/2018</time>
          </div>
          <div class="body"><p>To play the crotchety veteran, this too (or at least parts of it) has been an Unconf project before 🙂</p>
<p><a href="https://github.com/ropenscilabs/gdoc">https://github.com/ropenscilabs/gdoc</a></p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/mmulvahill">
              mmulvahill
            </a>
            <time>4/26/2018</time>
          </div>
          <div class="body"><p>I suspected so --  at least that it had at least been thoroughly considered by the R/rOpenSci/Rstudio community.  Curious if there&#39;s anything specific/narrow here for a smaller post-Unconf project or side-conversation?  I saw somewhere that file diff in the Rstudio text editor has been considered, but that&#39;s outside our realm.</p>
<p>I&#39;ve personally tried to come up with a system that allow me to avoid using MS Office/Gdocs as much as possible, and humbly prefer that to digging into VBA/Office internals.  A distant colleague has been developing StatTag -- a Word plugin that reverses our typical workflow (R/SAS/SPSS code goes in the the document and StatTag handles executing/printing it) -- which will work for some folks.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/jennybc">
              jennybc
            </a>
            <time>4/26/2018</time>
          </div>
          <div class="body"><blockquote>
<p>at least that it had at least been thoroughly considered by the R/rOpenSci/Rstudio community</p>
</blockquote>
<p>And the goal of being able to un-knit is ... on the radar? Discussed? I want to convey that it&#39;s absolutely A Recognized Thing but also that no one should expect anything on a specific date or even at all. It&#39;s a very big task.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/noamross">
              noamross
            </a>
            <time>4/29/2018</time>
          </div>
          <div class="body"><p>I started writing a response summarizing my attempts to solve this problem and realized it was becoming essay-length, so I put it here: <a href="https://github.com/noamross/rmd-rant">https://github.com/noamross/rmd-rant</a> . I do think there&#39;s some space to carve out an unconf-scale project on this issue, possibly along the lines of strategy No. 2 that I describe there.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/njtierney">
              njtierney
            </a>
            <time>4/30/2018</time>
          </div>
          <div class="body"><p>On @jennybc &#39;s note of gdoc - @milesmcbain has a nifty R package for rendering google docs into markdown that could be handy? <a href="https://github.com/milesmcbain/markdrive">markdrive</a></p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/jtr13">
              jtr13
            </a>
            <time>5/1/2018</time>
          </div>
          <div class="body"><p>I am super interested in this topic, particularly in terms of advising students on how best to collaborate on projects. While the students are working individually on homework assignments, they&#39;re all in rmarkdown-lalaland. Then final projects come along and it&#39;s crash and burn for that model.  They are all coders but yet they will not collaborate on text w/Git/Github; feedback on this approach from one group: &quot;It&#39;s insane to deal with merge conflicts involving text. No way.&quot; This group switched to Google Docs and then copied and pasted back to Rmd. Quite ironic, since Rmd was supposed to eliminate the copy and paste approach: now we&#39;ve just flipped the model on its head and copy and paste text instead of code and output (an improvement I suppose but still). </p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/jtr13">
              jtr13
            </a>
            <time>5/1/2018</time>
          </div>
          <div class="body"><p>One more thought: there&#39;s one small piece of the puzzle that I doubt would be hard to implement and would make a big difference. That is, having an echo=FALSE option for text, to provide the same flexibility for text in progress as we have with code in progress. I can think of so many uses: the ability for example to create assignments with and without solutions. (I know there are workarounds using comments in code chunks but that&#39;s not the same.)</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/jennybc">
              jennybc
            </a>
            <time>5/1/2018</time>
          </div>
          <div class="body"><p>Writing prose, collaboratively, with plain text + version control tends to be WAY more difficult than working on code collaboratively.</p>
<p><a href="https://twitter.com/emhrt_/status/740777537547173889">https://twitter.com/emhrt_/status/740777537547173889</a></p>
<blockquote>
<p>Writing a multi-author paper on github is a far bigger test of git skills than any coding I&#39;ve done.</p>
</blockquote>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/jennybc">
              jennybc
            </a>
            <time>5/1/2018</time>
          </div>
          <div class="body"><blockquote>
<p>This group switched to Google Docs and then copied and pasted back to Rmd. Quite ironic, since Rmd was supposed to eliminate the copy and paste approach</p>
</blockquote>
<p>Maybe it&#39;s fine for them to do collaborative editing of prose as a Google Doc? You could even script the regular task of pulling that file down into the repo (possibly converting to a specific format?) and committing, so that the repo remains the definitive source of the entire project, even though a prose document has been vendored out to Google Docs, due to a more humane user interface for collaborative editing.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/jzelner">
              jzelner
            </a>
            <time>5/1/2018</time>
          </div>
          <div class="body"><p>I do wonder if there&#39;s a solution to many of these problems that doesn&#39;t
reinvent too many wheels and is more of a workflow solution. For example, I
try to construct my RMD, at least for manuscripts, so that there is minimal
computation going on in the document. Instead, I try to &#39;compile&#39; all of my
results to some kind of external data file. This way, the ultimate target
of all the analysis code is this omnibus data file, rather than the PDF.  When
I&#39;m feeling extra-organized, it&#39;s JSON or YAML. When I&#39;m feeling lazy (i.e.
most of the time), it&#39;s a bunch of R objects serialized to Rds files and
CSVs.</p>
<p>If you had one omnibus RDS file or JSON/YAML, etc. file, that was the input
to the RMD, you could still allow fields w/in the RMD to update in response
to changing results, etc. And you could even do some computation, e.g. if
whole MCMC traces were stored in the input file.  But the analysis and
writing pipelines would be more-or-less decoupled. I&#39;m not sure this is a
package-level solution, but something that enforced the mindset of a
database/client or json/html relationship in RMD could make it so that
anyone with a working Rstudio installation could edit and compile and RMD
written this way.</p>
<p>That would solve about 97% of my collaboration problems. It&#39;s just that
when I try to do it in the ad-hoc way I usually do, I end up breaking the
discipline of keeping everything in one place and introduce little hacks (a
million CSVs w/4 lines each, an RDS with a model object in it) and the
document is no longer truly shareable. I could imagine an rstudio plugin
that shows specific data hooks in the document and connects them to the
input data, etc. Wonder if something like this exists in the web-oriented
world that we could pirate?</p>
<p>-Jon</p>
<p>On Tue, May 1, 2018 at 1:39 PM, Jennifer (Jenny) Bryan &lt;
<a href="mailto:notifications@github.com">notifications@github.com</a>&gt; wrote:</p>
<blockquote>
<p>This group switched to Google Docs and then copied and pasted back to Rmd.
Quite ironic, since Rmd was supposed to eliminate the copy and paste
approach</p>
<p>Maybe it&#39;s fine for them to do collaborative editing of prose as a Google
Doc? You could even script the regular task of pulling that file down into
the repo (possibly converting to a specific format?) and committing, so
that the repo remains the definitive source of the entire project, even
though a prose document has been vendored out to Google Docs, due to a more
humane user interface for collaborative editing.</p>
<p>—
You are receiving this because you were mentioned.
Reply to this email directly, view it on GitHub
<a href="https://github.com/ropensci/unconf18/issues/42#issuecomment-385735412">https://github.com/ropensci/unconf18/issues/42#issuecomment-385735412</a>,
or mute the thread
<a href="https://github.com/notifications/unsubscribe-auth/AAIUg5GnMljnbpVHq7qk6B-kEIy0oCmsks5tuJ25gaJpZM4TkRk2">https://github.com/notifications/unsubscribe-auth/AAIUg5GnMljnbpVHq7qk6B-kEIy0oCmsks5tuJ25gaJpZM4TkRk2</a>
.</p>
</blockquote>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/jennybc">
              jennybc
            </a>
            <time>5/1/2018</time>
          </div>
          <div class="body"><blockquote>
<p>I do wonder if there&#39;s a solution to many of these problems that doesn&#39;t
reinvent too many wheels and is more of a workflow solution</p>
</blockquote>
<p>Yes, I have definitely counselled students working on group projects to solve this by breaking their report or website up into smaller pieces or pages with an index. This greatly reduces the problem of multiple people touching the same things at the same time.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/wlandau">
              wlandau
            </a>
            <time>5/1/2018</time>
          </div>
          <div class="body"><blockquote>
<p>I do wonder if there&#39;s a solution to many of these problems that doesn&#39;t
reinvent too many wheels and is more of a workflow solution. For example, I
try to construct my RMD, at least for manuscripts, so that there is minimal
computation going on in the document. Instead, I try to &#39;compile&#39; all of my
results to some kind of external data file. This way, the ultimate target
of all the analysis code is this omnibus data file, rather than the PDF.  When
I&#39;m feeling extra-organized, it&#39;s JSON or YAML. When I&#39;m feeling lazy (i.e.
most of the time), it&#39;s a bunch of R objects serialized to Rds files and
CSVs.</p>
</blockquote>
<p>Sorry if I have been repeating myself too much, but <a href="https://github.com/ropensci/drake"><code>drake</code></a> was designed to accommodate this use case. The user specifies a declarative workflow with intermediate data objects and files, R Markdown reports included. Here, a dynamic report is just a target in the workflow rather than the overarching workflow manager (minimal computational burden on <code>knitr</code>), and there are ways to tell <code>drake</code> about the dependencies of each report. Example: <a href="https://ropensci.github.io/drake/articles/drake.html">https://ropensci.github.io/drake/articles/drake.html</a>. As @ldecicco-USGS pointed out in #30, things get tougher once we try to integrate with Google Drive / Google Docs.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/jtr13">
              jtr13
            </a>
            <time>5/1/2018</time>
          </div>
          <div class="body"><p>@jennybc I don&#39;t have a problem with Google Docs, at least until the tools get better. I haven&#39;t done an ethnography of how students work, but I hypothesize that they need different tools than seasoned researchers who can divvy up the work more readily (you do the abstract, I&#39;ll write up the methods...) Many are out of their comfort zone writing. They struggle together with how to write each piece of a report and then put the pieces together.  All that to say that some of them at least are truly working together on each sentence and derive a great deal of benefit from the Google Docs platform.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/jzelner">
              jzelner
            </a>
            <time>5/1/2018</time>
          </div>
          <div class="body"><p>Hi Will,</p>
<p>Thanks! I think drake is definitely a big part of the solution here
(currently trying to wean myself off of Makefiles towards drake to ease
collaboration with those are are not so-inclined). Although I do still
think that last step of how to construct the input data, what format it
should be in, what goes into it and what doesn&#39;t, etc. remains to be worked
out. This may be something of a standards issue, and would be something I&#39;d
love to chat about more at the unconf or whenever/wherever else!</p>
<p>-Jon</p>
<p>On Tue, May 1, 2018 at 2:25 PM, Will Landau <a href="mailto:&#x6e;&#111;&#x74;&#x69;&#x66;&#105;&#99;&#97;&#x74;&#x69;&#111;&#110;&#x73;&#x40;&#103;&#x69;&#116;&#104;&#x75;&#98;&#46;&#99;&#111;&#109;">&#x6e;&#111;&#x74;&#x69;&#x66;&#105;&#99;&#97;&#x74;&#x69;&#111;&#110;&#x73;&#x40;&#103;&#x69;&#116;&#104;&#x75;&#98;&#46;&#99;&#111;&#109;</a>
wrote:</p>
<blockquote>
<p>I do wonder if there&#39;s a solution to many of these problems that doesn&#39;t
reinvent too many wheels and is more of a workflow solution. For example, I
try to construct my RMD, at least for manuscripts, so that there is minimal
computation going on in the document. Instead, I try to &#39;compile&#39; all of my
results to some kind of external data file. This way, the ultimate target
of all the analysis code is this omnibus data file, rather than the PDF.
When
I&#39;m feeling extra-organized, it&#39;s JSON or YAML. When I&#39;m feeling lazy (i.e.
most of the time), it&#39;s a bunch of R objects serialized to Rds files and
CSVs.</p>
<p>Sorry if I have been repeating myself too much, but drake
<a href="https://github.com/ropensci/drake">https://github.com/ropensci/drake</a> was designed to accommodate this use
case. The user specifies a declarative workflow with intermediate data
objects and files, R Markdown reports included. Here, a dynamic report is
just a target in the workflow rather than the overarching workflow manager
(minimal computational burden on knitr), and there are ways to tell drake
about the dependencies of each report. Example:
<a href="https://ropensci.github.io/drake/articles/drake.html">https://ropensci.github.io/drake/articles/drake.html</a>. As @ldecicco-USGS
<a href="https://github.com/ldecicco-USGS">https://github.com/ldecicco-USGS</a> pointed out in #30
<a href="https://github.com/ropensci/unconf18/issues/30">https://github.com/ropensci/unconf18/issues/30</a>, things get tougher once
we try to integrate with Google Drive / Google Docs.</p>
<p>—
You are receiving this because you were mentioned.
Reply to this email directly, view it on GitHub
<a href="https://github.com/ropensci/unconf18/issues/42#issuecomment-385748143">https://github.com/ropensci/unconf18/issues/42#issuecomment-385748143</a>,
or mute the thread
<a href="https://github.com/notifications/unsubscribe-auth/AAIUgwlaQNjdlLlA50rJp5tvdQXPk0hXks5tuKiDgaJpZM4TkRk2">https://github.com/notifications/unsubscribe-auth/AAIUgwlaQNjdlLlA50rJp5tvdQXPk0hXks5tuKiDgaJpZM4TkRk2</a>
.</p>
</blockquote>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/wlandau">
              wlandau
            </a>
            <time>5/1/2018</time>
          </div>
          <div class="body"><p>Sure! Basically, that data frame is like a Makefile, your recipes are R code chunks, and you declare dependencies just by using them in the recipes. I am happy to receive questions as <a href="https://github.com/ropensci/drake/issues">new issues</a>, especially since they help build up the <a href="https://ropensci.github.io/drake/articles/faq.html">FAQ</a>.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/jzelner">
              jzelner
            </a>
            <time>5/2/2018</time>
          </div>
          <div class="body"><p>Here&#39;s what I&#39;m envisioning. This would work for most of my collaboration
headaches, but I don&#39;t know how many other folks&#39; problems it would solve:</p>
<p>1) Compile to a zipfile or other archive, with a) an RDS file containing
all of the R objects needed in the course of generating the final
PDF/HTML/MD document, b) a directory of binary or text files (e.g. figures,
csv files), c) a requirements.txt style manifest listing both what is in
the archive and any R dependencies.</p>
<p>2) At document-generation time, the archive is mounted and accessed without
expanding it into the filesystem, and executed like a normal RMD.</p>
<p>Most of my collaborators are willing to install (or have installed) RStudio
and are comfortable using the GUI tools to generate a PDF from an RMD. But
they may be a bit more reticent about the filesystem, and almost all will
be using windows, whereas most of my stuff is coming from Linux.</p>
<p>This might be a package kind of solution, particularly if there are tools
needed to grease the process of making an archive and for enforcing a
standard archive structure that is transportable across projects. It also
might be useful to think about a &#39;tidy data&#39; style paper? I would be
excited to spearhead something like that. My gut feeling is that the
solution here is 90% practice and 10% technology, maybe 80/20?</p>
<p>-Jon</p>
<p>On Tue, May 1, 2018 at 11:37 PM, Will Landau <a href="mailto:&#110;&#x6f;&#116;&#105;&#102;&#105;&#x63;&#x61;&#116;&#x69;&#111;&#110;&#x73;&#64;&#x67;&#x69;&#x74;&#104;&#x75;&#98;&#x2e;&#99;&#111;&#x6d;">&#110;&#x6f;&#116;&#105;&#102;&#105;&#x63;&#x61;&#116;&#x69;&#111;&#110;&#x73;&#64;&#x67;&#x69;&#x74;&#104;&#x75;&#98;&#x2e;&#99;&#111;&#x6d;</a>
wrote:</p>
<blockquote>
<p>Sure! Basically, that data frame is like a Makefile, your recipes are R
code chunks, and you declare dependencies just by using them in the
recipes. I am happy to receive questions as new issues
<a href="https://github.com/ropensci/drake/issues">https://github.com/ropensci/drake/issues</a>, especially since they help
build up the FAQ <a href="https://ropensci.github.io/drake/articles/faq.html">https://ropensci.github.io/drake/articles/faq.html</a>.</p>
<p>—
You are receiving this because you were mentioned.
Reply to this email directly, view it on GitHub
<a href="https://github.com/ropensci/unconf18/issues/42#issuecomment-385855795">https://github.com/ropensci/unconf18/issues/42#issuecomment-385855795</a>,
or mute the thread
<a href="https://github.com/notifications/unsubscribe-auth/AAIUg7QTPOzR25eilcxiyjHSh1QeClZJks5tuSoVgaJpZM4TkRk2">https://github.com/notifications/unsubscribe-auth/AAIUg7QTPOzR25eilcxiyjHSh1QeClZJks5tuSoVgaJpZM4TkRk2</a>
.</p>
</blockquote>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/lauracion">
              lauracion
            </a>
            <time>5/8/2018</time>
          </div>
          <div class="body"><p>Wow, such a great discussion is happening here. Thank you, everyone! I lost track of this until @stefaniebutland made me noticed the discussion was far from over. There is a lot to digest here for me. I will try to come back to it in the upcoming days before the unconf and see if I can summarize all the directions proposed for this issue thus far so we can choose which direction may be worth tackling in Seattle.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/mpadge">
              mpadge
            </a>
            <time>5/10/2018</time>
          </div>
          <div class="body"><p>There&#39;s a pre-emptive unconf-y-thing happening as I write that overlaps somewhat with this issue: the <a href="https://elifesciences.org/events/c40798c3/elife-innovation-sprint-2018">eLife Innovation Sprint</a> aiming</p>
<blockquote>
<p>to collaboratively prototype new innovations that bring cutting-edge technology to open research communication.</p>
</blockquote>
<p>The outputs of that will be well-worth keeping an eye on, and feeding back into this issue, and potentially the broader unconf in general.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/lauracion">
              lauracion
            </a>
            <time>5/14/2018</time>
          </div>
          <div class="body"><p>Ok, folks, initial step before getting to @noamross summary request. I summarize the items I see could conduct to unconf projects*:</p>
<ol>
<li><p>Develop further @noamross <a href="https://github.com/noamross/rmd-rant#strategy-2-having-collaborators-provide-input-text-only">strategy 2 </a></p>
</li>
<li><p>Add <code>echo = FALSE</code> for text in progress, a nice-have feature suggested by @jtr13  </p>
</li>
<li><p>@jzelner&#39;s package approach for users who are willing to collaborate using RStudio: </p>
</li>
</ol>
<blockquote>
<p>1) Compile to a zipfile or other archive, with a) an RDS file containing
all of the R objects needed in the course of generating the final
PDF/HTML/MD document, b) a directory of binary or text files (e.g. figures,
csv files), c) a requirements.txt style manifest listing both what is in
the archive and any R dependencies.</p>
</blockquote>
<blockquote>
<p>2) At document-generation time, the archive is mounted and accessed without
expanding it into the filesystem, and executed like a normal RMD.</p>
</blockquote>
<p>I can open new issues for 1) and 2) (but Noam and Joyce may be better authors for those issues than I - please let me know your preference).</p>
<p>I can&#39;t open a new issue for 3) because I don&#39;t follow the idea completely :grimacing:. Could you please do the honors, Jon?</p>
<p>*  I am omitting workflow descriptions posted not because they lack interest, but &#39;cause I don&#39;t see a project there - if you see a project from something I am omitting, please open an issue with it :pray:</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/lauracion">
              lauracion
            </a>
            <time>5/18/2018</time>
          </div>
          <div class="body"><p>Summary: All projects I identified from the discussion for this issue are now summarized in #73, #74, and #75.</p>
</div>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      $(document).ready(function(){
        $('.comment').each(function(i, d){
          $(d).emoji()
        })
      })
    </script>

  </body>
</html>
